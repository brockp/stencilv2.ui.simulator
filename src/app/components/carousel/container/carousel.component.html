<section class="true-component">
  <!-- Edit button -->
  <div class="flex justify-start items-center">
    <app-edit-button (click)="edit()"></app-edit-button>
    <app-copy-button (click)="copy()"></app-copy-button>
    <app-version-button (click)="loadVersion(2)"></app-version-button>
  </div>

  <div class="carousel">
    <section>
      <drag-scroll
        [scrollbar-hidden]="hideScrollbar"
        (reachesLeftBound)="leftBoundStat($event)"
        (indexChanged)="onIndexChanged($event)"
        #nav
      >
        <!-- Section One -->
        <section class="w-full mx-auto" drag-scroll-item>
          <img *ngIf="imgHost" [src]="imgHost + carousel.SectionOne.Source" />
          <section class="text-center my-4">
            <div class="headline-grid">
              <h1
                class="text-2xl font-bold tracking-wide leading-10"
                *ngIf="carousel"
                [ngStyle]="headlineStyleObject()"
              >
                {{ carousel.SectionOne.h1.Text }}
              </h1>
            </div>
            <div class="description-grid">
              <h2 class="my-2 text-base font-bold" [ngStyle]="h2StyleObject()">
                {{ carousel.SectionOne.h2.Text }}
              </h2>
            </div>
          </section>
        </section>

        <!-- Section Two -->
        <section class="w-full" drag-scroll-item>
          <img *ngIf="imgHost" [src]="imgHost + carousel.SectionTwo.Source" />
          <section class="text-center my-4">
            <div class="headline-grid">
              <h1
                class="text-2xl font-bold tracking-wide leading-10"
                *ngIf="carousel"
                [ngStyle]="headlineSectionTwoStyleObject()"
              >
                {{ carousel.SectionTwo.h1.Text }}
              </h1>
            </div>
            <div class="description-grid">
              <h2
                class="my-2 text-base font-bold"
                [ngStyle]="h2SectionTwoStyleObject()"
              >
                {{ carousel.SectionTwo.h2.Text }}
              </h2>
            </div>
          </section>
        </section>

        <!-- Section Three -->
        <section class="w-full" drag-scroll-item>
          <img *ngIf="imgHost" [src]="imgHost + carousel.SectionThree.Source" />
          <section class="text-center my-4">
            <div class="headline-grid">
              <h1
                class="text-2xl font-bold tracking-wide leading-10"
                *ngIf="carousel"
                [ngStyle]="headlineSectionThreeStyleObject()"
              >
                {{ carousel.SectionThree.h1.Text }}
              </h1>
            </div>
            <div class="description-grid">
              <h2
                class="my-2 text-base font-bold"
                [ngStyle]="h2SectionThreeStyleObject()"
              >
                {{ carousel.SectionThree.h2.Text }}
              </h2>
            </div>
          </section>
        </section>
      </drag-scroll>
    </section>

    <!-- Footer Nav -->
    <div class="footer-controls">
      <section class="footer-grid">
        <button
          (click)="moveLeft()"
          class="font-quicksand text-xs font-semibold hover:cursor-pointer"
        >
          {{ carousel.Nav.LeftNav }}
        </button>
        <div class="flex justify-center items-center gap-x-2">
          <div class="active-dot"></div>
          <div class="active-dot"></div>
          <div class="active-dot"></div>
        </div>
        <button
          (click)="moveRight()"
          class="font-quicksand text-xs font-semibold hover:cursor-pointer"
        >
          {{ carousel.Nav.RightNav }}
        </button>
      </section>
    </div>
  </div>

  <!-- Edit section -->
  <form
    [formGroup]="carouselForm"
    (ngSubmit)="onSubmit()"
    *ngIf="ess.editCarousel"
  >
    <app-editor-sidebar class="sidebar">
      <app-carousel-form
        [parent]="carouselForm"
        (sectionOneTextColorChanged)="changeTextColor($event)"
        (graphicChanged)="changeGraphic($event)"
        (sectionTwoTextColorChanged)="changeSectionTwoTextColor($event)"
        (sectionTwoGraphicChanged)="changeSectionTwoGraphic($event)"
        (sectionThreeTextColorChanged)="changeSectionThreeTextColor($event)"
        (sectionThreeGraphicChanged)="changeSectionThreeGraphic($event)"
        edit-form
      ></app-carousel-form>
      <app-carousel-code-form
        [parent]="carouselForm"
        edit-config-code
      ></app-carousel-code-form>
    </app-editor-sidebar>
  </form>
</section>

<comp-preview>{{ preview }}</comp-preview>
<comp-dragging></comp-dragging>
